<div class="container"  ng-init="vm.search()" >

    <error-display display="vm.Error"></error-display>
    <info-display display="vm.Info"></info-display>

    <div class="row">
        <form>
            <div class="col-md-4"><input type="text" class="form-control" ng-model="vm.searchTerm" /></div>
            <div class="col-md-8"><input type="button" class="btn btn-primary" value="Search" ng-click="vm.search()" /></div>
        </form>
    </div>

    <div class="row" ng-show="vm.searchResults">
        <div class="col-lg-12">
            <h1 class="page-header">
                <small>Total Items {{vm.searchResults.totalItems}}</small>
            </h1>
        </div>
    </div>

    <div infinite-scroll="vm.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check='false'>
        <div class="row" ng-repeat="item in vm.searchResults.items" ng-if="$index % 3 == 0">
            <div class="col-md-4 portfolio-item" ng-repeat="i in [$index, $index + 1, $index + 2]" ng-init="item = vm.searchResults.items[i]">
                <div class="clearfix">                
                    <a class="btn btn-default pull-right" href="library-add/{{item.googleId}}" >
                        <span class="glyphicon glyphicon-plus" ></span>
                    </a>
                    <a href="details/{{item.googleId}}" class="pull-left">
                        <img class="imageClip" src="{{item.thumbnail}}" alt="">
                    </a>
                </div>
                <h3>{{i + 1}}. {{item.title}}</h3>
                <h4>{{item.authors | stringConcat:', '}}</h4>
                <p>{{item.description | limitTo:200}}</p>
            </div>
        </div>
         <debug-display display="vm.rawResponse"></debug-display>
    </div>
 </div>